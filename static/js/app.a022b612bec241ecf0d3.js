webpackJsonp([17],{"4Px0":function(e,t){},AYXy:function(e,t){},D5ZI:function(e,t){},E4LH:function(e,t,n){"use strict";t.a=function(e){return["admin","editor"].indexOf(e.trim())>=0},t.b=o;var a=n("mvHQ"),s=n.n(a);function o(e){if("boolean"==typeof e)return!1;if(e instanceof Array){if(0===e.length)return!0}else{if(!(e instanceof Object))return"null"===e||null==e||"undefined"===e||void 0===e||""===e;if("{}"===s()(e))return!0}return!1}},FcQT:function(e,t){},MWF8:function(e,t,n){var a={"./403":["k6uz",11],"./403.vue":["k6uz",11],"./404":["+H76",8],"./404.vue":["+H76",8],"./baseCharts/BaseCharts":["L+gl",15],"./baseCharts/BaseCharts.vue":["L+gl",15],"./dashboard":["ARoL",1],"./dashboard/":["ARoL",1],"./dashboard/123":["P7Yw",9],"./dashboard/123.vue":["P7Yw",9],"./dashboard/index":["ARoL",1],"./dashboard/index.vue":["ARoL",1],"./description":["ap+h",7],"./description/":["ap+h",7],"./description/index":["ap+h",7],"./description/index.vue":["ap+h",7],"./drag":["UMZo",2],"./drag/":["UMZo",2],"./drag/index":["UMZo",2],"./drag/index.vue":["UMZo",2],"./form":["ItCA",6],"./form/":["ItCA",6],"./form/index":["ItCA",6],"./form/index.vue":["ItCA",6],"./login":["T+/8",0],"./login/":["T+/8",0],"./login/index":["T+/8",0],"./login/index.vue":["T+/8",0],"./permission/Permission":["KHk3",14],"./permission/Permission.vue":["KHk3",14],"./selector":["ErOG",4],"./selector/":["ErOG",4],"./selector/index":["ErOG",4],"./selector/index.vue":["ErOG",4],"./steps/Steps":["Go11",12],"./steps/Steps.vue":["Go11",12],"./table":["YBQJ",5],"./table/":["YBQJ",5],"./table/index":["YBQJ",5],"./table/index.vue":["YBQJ",5],"./tabs/Tabs":["hjO/",13],"./tabs/Tabs.vue":["hjO/",13],"./transfer":["pB+1",3],"./transfer/":["pB+1",3],"./transfer/index":["pB+1",3],"./transfer/index.vue":["pB+1",3],"./upload/Upload":["zV3G",10],"./upload/Upload.vue":["zV3G",10]};function s(e){var t=a[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}s.keys=function(){return Object.keys(a)},s.id="MWF8",e.exports=s},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")(null,s,!1,function(e){n("FcQT")},null,null).exports,i=n("/ocq"),r=n("Dd8w"),c=n.n(r),l=n("Xxa5"),u=n.n(l),d=n("exGp"),p=n.n(d),m=n("E4LH"),f=n("NYxO"),h={data:function(){return{fullscreen:!1,message:2,box:!1,form:{passwd:""}}},computed:c()({},Object(f.b)(["sidebar","name","lockPasswd","settings"]),{collapseMenu:function(){return this.settings.collapseMenu}}),methods:{handleCommand:function(e){var t=this;"loginout"==e&&this.$confirm("确定要退出登录么?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(p()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("LogOut");case 2:t.$router.push({path:"/login"},function(){}),location.reload();case 4:case"end":return e.stop()}},e,t)})))},collapseChage:function(){this.$store.dispatch("updateSettings",{key:"collapseMenu",type:"toggle"})},handleFullScreen:function(){var e=document.documentElement;this.fullscreen?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen(),this.fullscreen=!this.fullscreen},handleLock:function(){var e=this;Object(m.b)(this.lockPasswd)?this.box=!0:(this.$store.commit("SET_LOCK"),setTimeout(function(){e.$router.push({path:"/lock"})},100))},handleSetLock:function(){var e=this;this.$refs.form.validate(function(t){t&&(e.$store.commit("SET_LOCK_PASSWD",e.form.passwd),e.handleLock())})}},mounted:function(){}},_={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("div",{staticClass:"collapse-btn",on:{click:e.collapseChage}},[n("i",{class:e.collapseMenu?"el-icon-s-unfold":"el-icon-s-fold"})]),e._v(" "),n("div",{staticClass:"header-right"},[n("div",{staticClass:"header-user-con"},[n("div",{staticClass:"btn-fullscreen",on:{click:e.handleFullScreen}},[n("el-tooltip",{attrs:{effect:"dark",content:e.fullscreen?"取消全屏":"全屏",placement:"bottom"}},[n("i",{staticClass:"el-icon-rank"})])],1),e._v(" "),n("div",{staticClass:"btn-bell"},[n("el-tooltip",{attrs:{effect:"dark",content:e.message?"有"+e.message+"条未读消息":"消息中心",placement:"bottom"}},[n("router-link",{attrs:{to:"/"}},[n("i",{staticClass:"el-icon-bell"})])],1),e._v(" "),e.message?n("span",{staticClass:"btn-bell-badge"}):e._e()],1),e._v(" "),n("div",{staticClass:"btn-bell"},[n("el-tooltip",{attrs:{effect:"dark",content:"锁屏",placement:"bottom"}},[n("i",{staticClass:"el-icon-lock",on:{click:e.handleLock}})]),e._v(" "),n("el-dialog",{attrs:{title:"设置锁屏密码",visible:e.box,width:"30%","append-to-body":""},on:{"update:visible":function(t){e.box=t}}},[n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"锁屏密码",prop:"passwd",rules:[{required:!0,message:"锁屏密码不能为空"}]}},[n("el-input",{attrs:{placeholder:"请输入锁屏密码"},model:{value:e.form.passwd,callback:function(t){e.$set(e.form,"passwd",t)},expression:"form.passwd"}})],1)],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.handleSetLock}},[e._v("确 定")])],1)],1)],1),e._v(" "),e._m(0),e._v(" "),n("el-dropdown",{staticClass:"user-name",attrs:{trigger:"click"},on:{command:e.handleCommand}},[n("span",{staticClass:"el-dropdown-link"},[e._v("\n                    "+e._s(e.name)+" "),n("i",{staticClass:"el-icon-caret-bottom"})]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("a",{attrs:{href:"#",target:"_blank"}},[n("el-dropdown-item",[e._v("跳转链接1")])],1),e._v(" "),n("a",{attrs:{href:"#",target:"_blank"}},[n("el-dropdown-item",[e._v("跳转链接2")])],1),e._v(" "),n("el-dropdown-item",{attrs:{icon:"el-icon-user-solid"}},[e._v("基本信息")]),e._v(" "),n("el-dropdown-item",{attrs:{icon:"el-icon-info"}},[e._v("关于我们")]),e._v(" "),n("el-dropdown-item",{attrs:{divided:"",command:"loginout",icon:"el-icon-error"}},[e._v("退出登录")])],1)],1)],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"user-avator"},[t("img",{attrs:{src:"static/img/img.jpg"}})])}]};var g=n("VU/8")(h,_,!1,function(e){n("OJbg")},"data-v-435475db",null).exports,v={name:"SidebarItem",props:{routes:{type:Array},isNest:{type:Boolean,default:!1}},data:function(){return{}},methods:{}},b={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{},[e._l(e.routes,function(t){return[!t.hidden&&t.children?[1!==t.children.length||t.children[0].children||t.alwaysShow?n("el-submenu",{key:t.name,attrs:{index:t.name||t.path}},[t.meta&&t.meta.title?n("template",{slot:"title"},[n("i",{class:t.meta.icon}),e._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.meta.title))])]):e._e(),e._v(" "),e._l(t.children,function(a){return a.hidden?e._e():[a.children&&a.children.length>0?n("sidebar-item",{key:a.path,staticClass:"nest-menu",attrs:{"is-nest":!0,routes:[a]}}):n("router-link",{key:a.name,attrs:{to:t.path+"/"+a.path}},[n("el-menu-item",{attrs:{index:t.path+"/"+a.path}},[a.meta&&a.meta.title?n("span",[e._v(e._s(a.meta.title))]):e._e()])],1)]})],2):n("router-link",{key:t.children[0].name,attrs:{to:t.path+"/"+t.children[0].path}},[n("el-menu-item",{class:{"submenu-title-noDropdown":!e.isNest},attrs:{index:t.path+"/"+t.children[0].path}},[t.children[0].meta&&t.children[0].meta.title?[n("i",{class:t.children[0].meta.icon}),e._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.children[0].meta.title))])]:e._e()],2)],1)]:e._e()]})],2)},staticRenderFns:[]},w={components:{SidebarItem:n("VU/8")(v,b,!1,null,null,null).exports},props:{isCollapse:{type:Boolean,default:!1}},data:function(){return{}},computed:c()({},Object(f.b)(["sidebar","permission_routers"]),{variables:function(){return{menuBg:"#242f42",menuText:"#bfcbd9",menuActiveText:"#20a0ff"}}}),created:function(){},methods:{}},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar"},[a("el-menu",{staticClass:"sidebar-el-menu",attrs:{"default-active":e.$route.path,collapse:e.isCollapse,"background-color":e.variables.menuBg,"text-color":e.variables.menuText,"active-text-color":e.variables.menuActiveText,"unique-opened":""}},[a("el-menu-item",{staticStyle:{padding:"0 12px"},attrs:{index:"0"}},[a("div",{staticClass:"logo"},[e.isCollapse?a("a",{attrs:{href:"#"}},[a("img",{staticStyle:{width:"25px",height:"25px"},attrs:{src:n("ZBJ4")}})]):a("a",{attrs:{href:"#"}},[e._v("xxx管理系统")])])]),e._v(" "),a("SidebarItem",{attrs:{routes:e.permission_routers}})],1)],1)},staticRenderFns:[]};var k=n("VU/8")(w,C,!1,function(e){n("ogT3")},"data-v-51a7f1f8",null).exports,S=new a.default,E={data:function(){return{tagsList:[]}},methods:{isActive:function(e){return e===this.$route.fullPath},closeTags:function(e){var t=this.tagsList.splice(e,1)[0],n=this.tagsList[e]?this.tagsList[e]:this.tagsList[e-1];n?t.path===this.$route.fullPath&&this.$router.push(n.path):this.$router.push("/")},closeAll:function(){this.tagsList=[],this.$router.push("/")},closeOther:function(){var e=this,t=this.tagsList.filter(function(t){return t.path===e.$route.fullPath});this.tagsList=t},setTags:function(e){this.tagsList.some(function(t){return t.path===e.fullPath})||(this.tagsList.length>=8&&this.tagsList.shift(),this.tagsList.push({title:e.meta.title,path:e.fullPath,name:e.matched[1].components.default.name})),S.$emit("tags",this.tagsList)},handleTags:function(e){"other"===e?this.closeOther():this.closeAll()},handleScroll:function(e){var t=-e.wheelDelta||40*-e.deltaY,n=this.$refs.scrollContainer.$refs.wrap;n.scrollLeft=n.scrollLeft+t/4}},computed:{showTags:function(){return this.tagsList.length>0}},watch:{$route:function(e,t){this.setTags(e)}},created:function(){this.setTags(this.$route)}},x={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showTags?n("div",{staticClass:"tags"},[n("el-scrollbar",{ref:"scrollContainer",staticClass:"scroll-container",attrs:{vertical:!1},nativeOn:{wheel:function(t){return t.preventDefault(),e.handleScroll.apply(null,arguments)}}},[n("ul",e._l(e.tagsList,function(t,a){return n("li",{key:a,staticClass:"tags-li",class:{active:e.isActive(t.path)}},[n("router-link",{staticClass:"tags-li-title",attrs:{to:t.path}},[e._v("\n                    "+e._s(t.title)+"\n                ")]),e._v(" "),n("span",{staticClass:"tags-li-icon",on:{click:function(t){return e.closeTags(a)}}},[n("i",{staticClass:"el-icon-close"})])],1)}),0)]),e._v(" "),n("div",{staticClass:"tags-close-box"},[n("el-dropdown",{on:{command:e.handleTags}},[n("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("\n                标签选项"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown",size:"small"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"other"}},[e._v("关闭其他")]),e._v(" "),n("el-dropdown-item",{attrs:{command:"all"}},[e._v("关闭所有")])],1)],1)],1)],1):e._e()},staticRenderFns:[]};var A=n("VU/8")(E,x,!1,function(e){n("kSuJ")},null,null).exports,T={data:function(){return{breadcrumbData:[]}},computed:{},created:function(){},methods:{getBreadcrumbData:function(){this.breadcrumbData=this.$route.matched.filter(function(e){return e.meta&&e.meta.title})},onLinkClick:function(e){console.log(this.$route,e,"onLinkClick")}},watch:{$route:{immediate:!0,handler:function(e,t){this.getBreadcrumbData()}}}},B={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"crumbList"},[n("el-breadcrumb",{staticClass:"breadcrumb",attrs:{separator:"/"}},[n("transition-group",{attrs:{name:"breadC",tag:"p"}},e._l(e.breadcrumbData,function(t,a){return n("el-breadcrumb-item",{key:t.path},[1===e.breadcrumbData.length?[n("span",{staticClass:"no-redirect"},[n("i",{class:t.meta.icon}),e._v(e._s(t.meta.title))])]:[a===e.breadcrumbData.length-1?n("span",{staticClass:"no-redirect"},[e._v(e._s(t.meta.title))]):n("span",{staticClass:"redirect",on:{click:function(n){return e.onLinkClick(t)}}},[n("i",{class:t.meta.icon}),e._v(e._s(t.meta.title))])]],2)}),1)],1)],1)},staticRenderFns:[]};var L=n("VU/8")(T,B,!1,function(e){n("D5ZI")},"data-v-8d492fec",null).exports,O={data:function(){return{}},computed:c()({},Object(f.b)(["sidebar","settings"]),{drawer:function(){return this.settings.openSetting},showViewsBar:{get:function(){return this.settings.showViewsBar},set:function(e){this.$store.dispatch("updateSettings",{key:"showViewsBar",value:e})}},viewBarType:{get:function(){return this.settings.viewBarType},set:function(e){this.$store.dispatch("updateSettings",{key:"viewBarType",value:e})}},keepViewsByRefresh:{get:function(){return this.settings.keepViewsByRefresh},set:function(e){this.$store.dispatch("updateSettings",{key:"keepViewsByRefresh",value:e})}},uniqueOpened:{get:function(){return this.settings.uniqueOpened},set:function(e){this.$store.dispatch("updateSettings",{key:"uniqueOpened",value:e})}},showBreadCrumb:{get:function(){return this.settings.showBreadCrumb},set:function(e){this.$store.dispatch("updateSettings",{key:"showBreadCrumb",value:e})}}}),methods:{handleClose:function(){this.$store.dispatch("updateSettings",{key:"openSetting",value:!1})}}},y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-drawer",{attrs:{"show-close":!1,visible:e.drawer,"before-close":e.handleClose},on:{"update:visible":function(t){e.drawer=t}}},[n("div",{staticClass:"setting-container"},[n("div",[n("h3",{staticClass:"setting-title"},[e._v("系统设置")]),e._v(" "),n("div",{staticClass:"setting-item"},[n("span",[e._v("开启视图页签")]),e._v(" "),n("el-switch",{staticClass:"setting-switch",model:{value:e.showViewsBar,callback:function(t){e.showViewsBar=t},expression:"showViewsBar"}})],1),e._v(" "),n("div",{staticClass:"setting-item"},[n("span",[e._v("视图页签样式")]),e._v(" "),n("el-radio-group",{model:{value:e.viewBarType,callback:function(t){e.viewBarType=t},expression:"viewBarType"}},[n("el-radio",{attrs:{label:"tab"}},[e._v("选项卡")]),e._v(" "),n("el-radio",{attrs:{label:"tag"}},[e._v("标签")])],1)],1),e._v(" "),n("div",{staticClass:"setting-item"},[n("span",[e._v("刷新保留其他视图")]),e._v(" "),n("el-switch",{staticClass:"setting-switch",model:{value:e.keepViewsByRefresh,callback:function(t){e.keepViewsByRefresh=t},expression:"keepViewsByRefresh"}})],1),e._v(" "),n("div",{staticClass:"setting-item"},[n("span",[e._v("保持一个子菜单展开")]),e._v(" "),n("el-switch",{staticClass:"setting-switch",model:{value:e.uniqueOpened,callback:function(t){e.uniqueOpened=t},expression:"uniqueOpened"}})],1),e._v(" "),n("div",{staticClass:"setting-item"},[n("span",[e._v("开启面包屑")]),e._v(" "),n("el-switch",{staticClass:"setting-switch",model:{value:e.showBreadCrumb,callback:function(t){e.showBreadCrumb=t},expression:"showBreadCrumb"}})],1)])])])},staticRenderFns:[]};var R={data:function(){return{tagsList:[]}},components:{vHead:g,vSidebar:k,vTags:A,vBreadcrumb:L,Settings:n("VU/8")(O,y,!1,function(e){n("4Px0")},"data-v-610ca1a2",null).exports},computed:c()({},Object(f.b)(["settings"]),{isCollapse:function(){return this.settings.collapseMenu}}),created:function(){var e=this;S.$on("tags",function(t){for(var n=[],a=0,s=t.length;a<s;a++)t[a].name&&n.push(t[a].name);e.tagsList=n})},methods:{}},I={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("el-aside",{class:[e.isCollapse?"collpase":"expand"]},[n("v-sidebar",{staticClass:"aside-menu",attrs:{"is-collapse":e.isCollapse}})],1),e._v(" "),n("div",{staticClass:"content-box",class:{"content-collapse":e.isCollapse}},[n("v-head"),e._v(" "),n("v-tags"),e._v(" "),n("vBreadcrumb"),e._v(" "),n("div",{staticClass:"content"},[n("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[n("keep-alive",{attrs:{include:e.tagsList}},[n("router-view")],1)],1)],1)],1),e._v(" "),n("settings",{attrs:{open:"open"}})],1)},staticRenderFns:[]};var P=n("VU/8")(R,I,!1,function(e){n("QC7A")},"data-v-7fdd9ff4",null).exports,j={name:"lock",data:function(){return{passwd:"",passwdError:!1,pass:!1}},created:function(){},mounted:function(){},computed:c()({},Object(f.c)({name:function(e){return e.user.name}}),Object(f.b)(["lockPasswd"])),props:[],methods:{handleLogout:function(){var e=this;this.$confirm("退出系统, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$store.dispatch("LogOut").then(function(){e.$router.push({path:"/login"}),location.reload()})}).catch(function(){return!1})},handleLogin:function(){var e=this;if(this.passwd!==this.lockPasswd)return this.passwd="",this.$message({message:"解锁密码错误,请重新输入",type:"error"}),this.passwdError=!0,void setTimeout(function(){e.passwdError=!1},1e3);this.pass=!0,setTimeout(function(){e.$store.commit("CLEAR_LOCK"),e.$router.push("/dashboard")},1e3)}},components:{}},D={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"lock-container pull-height"},[n("div",{staticClass:"lock-form animated bounceInDown"},[n("div",{staticClass:"animated",class:{shake:e.passwdError,bounceOut:e.pass}},[n("h3",{staticClass:"text-white"},[e._v(e._s(e.name))]),e._v(" "),n("el-input",{staticClass:"input-with-select animated",attrs:{placeholder:"请输入登录密码",type:"password"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.passwd,callback:function(t){e.passwd=t},expression:"passwd"}},[n("el-button",{attrs:{slot:"append",type:"success"},on:{click:e.handleLogin},slot:"append"},[n("i",{staticClass:"el-icon-check el-icon--right"})]),e._v(" "),n("el-button",{attrs:{slot:"append"},on:{click:e.handleLogout},slot:"append"},[n("i",{staticClass:"el-icon-close el-icon--right"})])],1)],1)])])},staticRenderFns:[]};var M=n("VU/8")(j,D,!1,function(e){n("AYXy")},"data-v-1b9d26e8",null).exports;a.default.use(i.a);var U=[{path:"/login",name:"Login",component:function(){return n.e(0).then(n.bind(null,"T+/8"))},hidden:!0},{path:"/404",component:function(){return n.e(8).then(n.bind(null,"+H76"))},hidden:!0},{path:"/lock",name:"锁屏页",component:M,hidden:!0},{path:"",component:P,redirect:"/dashboard",children:[{path:"dashboard",name:"Dashboard",component:function(){return n.e(1).then(n.bind(null,"ARoL"))},meta:{title:"首页",icon:"el-icon-s-shop"}}]}],F=[{path:"/example",component:"Layout",redirect:"/example/table",name:"Example",meta:{title:"data相关",icon:"el-icon-s-order",roles:["admin"]},children:[{path:"table",name:"Table",component:"table/index",meta:{title:"基础表格",icon:"el-icon-mic",roles:["admin"]}},{path:"description",name:"Description",component:"description/index",meta:{title:"描述列表",icon:"el-icon-mic",roles:["admin"]}}]},{path:"/drag",component:"Layout",children:[{path:"drag",name:"Drag",component:"drag/index",meta:{title:"拖拽列表",icon:"el-icon-rank",roles:["admin","editor"]}}]},{path:"*",redirect:"/404",hidden:!0}],V=function(){return new i.a({scrollBehavior:function(){return{y:0}},routes:U})},q=V();var Q=q,K=n("//Fk"),W=n.n(K),J=n("mtWM"),N=n("zL8q"),G=n.n(N),$=n("ZQ6q"),z=n.n($),H={state:{sidebar:{opened:!+z.a.get("sidebarStatus"),withoutAnimation:!1,collapse:!0},device:"desktop"},mutations:{CollapseMenu:function(e){e.sidebar.collapse=!e.sidebar.collapse},TOGGLE_SIDEBAR:function(e){e.sidebar.opened?z.a.set("sidebarStatus",1):z.a.set("sidebarStatus",0),e.sidebar.opened=!e.sidebar.opened},CLOSE_SIDEBAR:function(e,t){z.a.set("sidebarStatus",1),e.sidebar.opened=!1,e.sidebar.withoutAnimation=t},TOGGLE_DEVICE:function(e,t){e.device=t}},actions:{ToggleSideBar:function(e){(0,e.commit)("TOGGLE_SIDEBAR")},CloseSideBar:function(e,t){(0,e.commit)("CLOSE_SIDEBAR",t.withoutAnimation)},ToggleDevice:function(e,t){(0,e.commit)("TOGGLE_DEVICE",t)}}};var Y=n("TIfe"),Z=n("ssT3"),X={state:{token:Object(Y.a)(),name:"",avatar:"",roles:[],isLock:Object(Z.a)({name:"isLock"})||!1,lockPasswd:Object(Z.a)({name:"lockPasswd"})||""},mutations:{SET_TOKEN:function(e,t){e.token=t},SET_NAME:function(e,t){e.name=t},SET_AVATAR:function(e,t){e.avatar=t},SET_ROLES:function(e,t){e.roles=t},SET_LOCK_PASSWD:function(e,t){e.lockPasswd=t,Object(Z.c)({name:"lockPasswd",content:e.lockPasswd,type:"session"})},SET_LOCK:function(e,t){e.isLock=!0,Object(Z.c)({name:"isLock",content:e.isLock,type:"session"})},CLEAR_LOCK:function(e,t){e.isLock=!1,e.lockPasswd="",Object(Z.b)({name:"lockPasswd"}),Object(Z.b)({name:"isLock"})}},actions:{Login:function(e,t){var n=e.commit,a=t.username.trim();return new W.a(function(e,s){(function(e,t){return de({url:"/login",method:"post",data:{username:e,password:t}})})(a,t.password).then(function(t){localStorage.setItem("rolesName",a);var s=t.data;Object(Y.c)(s.token),n("SET_TOKEN",s.token),e()}).catch(function(e){s(e)})})},GetInfo:function(e){var t=e.commit,n=e.state;return new W.a(function(e,a){var s=localStorage.getItem("rolesName");(function(e,t){return de({url:"/info",method:"get",params:{token:e,rolesName:t}})})(n.token,s).then(function(n){var s=n.data;s.anxun.roles&&s.anxun.roles.length>0?t("SET_ROLES",s.anxun.roles):a("getInfo: roles must be a non-null array !"),t("SET_NAME",s.anxun.username),t("SET_AVATAR",s.anxun.avatar),e(n)}).catch(function(e){a(e)})})},LogOut:function(e){var t=e.commit,n=e.state;return new W.a(function(e,a){(n.token,de({url:"/logout",method:"post"})).then(function(){var n;Object(Y.b)(),n=V(),q.matcher=n.matcher,t("SET_TOKEN",""),t("SET_ROLES",[]),localStorage.removeItem("rolesName"),e()}).catch(function(e){a(e)})})},FedLogOut:function(e){var t=e.commit;return new W.a(function(e){t("SET_TOKEN",""),Object(Y.b)(),e()})}}},ee=function(e){return function(){return n("MWF8")("./"+e)}};var te={state:{routers:U,addRouters:[]},mutations:{SET_ROUTERS:function(e,t){e.addRouters=t,e.routers=U.concat(t)}},actions:{GenerateRoutes:function(e,t){var n=e.commit;return new W.a(function(e){var a=t.roles;console.log(a,12345);var s;s=function e(t,n){return t.filter(function(t){if(function(e,t){return!t.meta||!t.meta.roles||e.some(function(e){return t.meta.roles.indexOf(e)>=0})}(n,t))return t.component&&("Layout"===t.component?t.component=P:t.component=ee(t.component)),t.children&&t.children.length&&(t.children=e(t.children,n)),!0})}(F,a),n("SET_ROUTERS",s),e(s)})}}},ne=n("pFYg"),ae=n.n(ne),se=n("OVpc"),oe=n.n(se),ie={getCircularReplacer:function(){var e=new oe.a;return function(t,n){if("object"===(void 0===n?"undefined":ae()(n))&&null!==n){if(e.has(n))return;e.add(n)}return n}},notNull:function(e){return null!=e&&void 0!=e&&"null"!=e&&"undefined"!=e&&""!=e},isNull:function(e){return!this.notNull(e)},getSettingStorage:function(e){var t=localStorage.getItem(e);return"true"==(t=!!this.notNull(t)&&t)}},re={state:{settings:{lang:localStorage.getItem("lang")||"zh-CN",openSetting:ie.getSettingStorage("openSetting"),showViewsBar:ie.getSettingStorage("showViewsBar"),viewBarType:localStorage.getItem("viewBarType")||"tab",keepViewsByRefresh:ie.getSettingStorage("keepViewsByRefresh"),collapseMenu:ie.getSettingStorage("collapseMenu"),showBreadCrumb:ie.getSettingStorage("showBreadCrumb")}},mutations:{UPDATE_SETTINGS:function(e,t){var n=t.key,a=t.value,s=t.type;if(s&&"toggle"===s)return e.settings[n]=!e.settings[n],void localStorage.setItem(n,e.settings[n]);e.settings[n]=a,localStorage.setItem(n,a)}},actions:{updateSettings:function(e,t){(0,e.commit)("UPDATE_SETTINGS",t)}}},ce={sidebar:function(e){return e.app.sidebar},device:function(e){return e.app.device},token:function(e){return e.user.token},avatar:function(e){return e.user.avatar},name:function(e){return e.user.name},roles:function(e){return e.user.roles},permission_routers:function(e){return e.permission.routers},addRouters:function(e){return e.permission.addRouters},isLock:function(e){return e.user.isLock},lockPasswd:function(e){return e.user.lockPasswd},settings:function(e){return e.settings.settings}};a.default.use(f.a);var le=new f.a.Store({modules:{app:H,user:X,permission:te,settings:re},getters:ce}),ue=J.a.create({baseURL:"https://mock.mengxuegu.com/mock/642f916f32affa39a121ce38/routing",timeout:15e3});ue.interceptors.request.use(function(e){return le.getters.token&&(e.headers.token=Object(Y.a)()),e},function(e){console.log(e),W.a.reject(e)}),ue.interceptors.response.use(function(e){var t=e.data;return 200!==t.code?(Object(N.Message)({message:t.data,type:"error",duration:3e3}),50008!==t.code&&50012!==t.code&&50014!==t.code||N.MessageBox.confirm("你已被登出，可以取消继续留在该页面，或者重新登录","确定登出",{confirmButtonText:"重新登录",cancelButtonText:"取消",type:"warning"}).then(function(){le.dispatch("FedLogOut").then(function(){location.reload()})}),W.a.reject("error")):e.data},function(e){return console.log("err"+e),Object(N.Message)({message:e.message,type:"error",duration:3e3}),W.a.reject(e)});var de=ue,pe=(n("tvR6"),n("Y81h")),me=n.n(pe),fe=(n("UVIz"),this);me.a.configure({showSpinner:!1});var he,_e=["/login","/404"];Q.beforeEach((he=p()(u.a.mark(function e(t,n,a){var s,o,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(me.a.start(),!Object(Y.a)()){e.next=37;break}if(!le.getters.isLock||"/lock"===t.path){e.next=8;break}a({path:"/lock"}),me.a.done(),e.next=35;break;case 8:if("/login"!==t.path){e.next=13;break}a({path:"/"}),me.a.done(),e.next=35;break;case 13:if(!(le.getters.roles&&le.getters.roles.length>0)){e.next=19;break}a(),me.a.done(),e.next=35;break;case 19:return e.prev=19,e.next=22,le.dispatch("GetInfo");case 22:return s=e.sent,o=s.data,e.next=26,le.dispatch("GenerateRoutes",o.anxun);case 26:i=e.sent,Q.options.routes=le.getters.permission_routers,i.forEach(function(e){Q.addRoute(e)}),a(c()({},t,{replace:!0})),e.next=35;break;case 32:e.prev=32,e.t0=e.catch(19),a("/login?redirect="+t.path);case 35:e.next=38;break;case 37:-1!==_e.indexOf(t.path)?a():(a("/login?redirect="+t.path),me.a.done());case 38:case"end":return e.stop()}},e,fe,[[19,32]])})),function(e,t,n){return he.apply(this,arguments)})),Q.afterEach(function(){me.a.done()}),a.default.use(G.a,{size:"small"}),a.default.prototype.http=de,a.default.config.productionTip=!1,new a.default({el:"#app",router:Q,store:le,components:{App:o},template:"<App/>"})},OJbg:function(e,t){},QC7A:function(e,t){},TIfe:function(e,t,n){"use strict";t.a=function(){return s.a.get(o)},t.c=function(e){return s.a.set(o,e)},t.b=function(){return s.a.remove(o)};var a=n("ZQ6q"),s=n.n(a),o="loginToken"},UVIz:function(e,t){},ZBJ4:function(e,t){e.exports="data:image/png;base64,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"},kSuJ:function(e,t){},ogT3:function(e,t){},ssT3:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return setStore}),__webpack_require__.d(__webpack_exports__,"a",function(){return getStore}),__webpack_require__.d(__webpack_exports__,"b",function(){return removeStore});var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__=__webpack_require__("pFYg"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__),__WEBPACK_IMPORTED_MODULE_2__utils_validate__=__webpack_require__("E4LH"),setStore=function(e){var t=e.name,n=e.content,a=e.type,s={dataType:void 0===n?"undefined":__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default()(n),content:n,type:a,datetime:(new Date).getTime()};a?window.sessionStorage.setItem(t,__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(s)):window.localStorage.setItem(t,__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(s))},getStore=function getStore(params){var name=params.name,obj={},content=void 0;if(obj=window.localStorage.getItem(name),Object(__WEBPACK_IMPORTED_MODULE_2__utils_validate__.b)(obj)&&(obj=window.sessionStorage.getItem(name)),!Object(__WEBPACK_IMPORTED_MODULE_2__utils_validate__.b)(obj))return obj=JSON.parse(obj),"string"===obj.dataType?content=obj.content:"number"===obj.dataType?content=Number(obj.content):"boolean"===obj.dataType?content=eval(obj.content):"object"===obj.dataType&&(content=obj.content),content},removeStore=function(e){var t=e.name;window.localStorage.removeItem(t),window.sessionStorage.removeItem(t)},getAllStore=function(e){for(var t=[],n=e.type,a=1;a<=window.sessionStorage.length;a++)n?t.push({name:window.sessionStorage.key(a),content:getStore({name:window.sessionStorage.key(a),type:"session"})}):t.push(getStore({name:window.localStorage.key(a),content:getStore({name:window.localStorage.key(a)})}));return t},clearStore=function(e){e.type?window.sessionStorage.clear():window.localStorage.clear()}},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.a022b612bec241ecf0d3.js.map